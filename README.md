# Продуктовая корзина
Программа, планирующая продуктовую корзину.
В `Main` есть список доступных продуктов в одном массиве и соответствующая им цена в другом массиве. Пользователь вводит номер продукта из первого списка и количество продуктов этого вида. Программа добавляет указанное количество выбранного продукта в итоговую сумму продуктовой корзины. Действие повторяется до тех пор, пока пользователь не введет команду “end”. Только после этого выводится вся корзина выбранных товаров и итоговая сумма.

## Функционал программы
1. Вывод списка доступных для покупки продуктов на экран;
2. Возможность ввода пользователем одной строкой номера продукта и количества для добавления в корзину;
3. Пользователь может добавлять несколько раз один и тот же товар в корзину, в этом случае он должен суммироваться;
4. Вывод всех покупок, их общей стоимости и количества на экран после ввода всех покупок;
5. Сохранение всех операций, введенных пользователем, в журнал действий;
6. В зависимости от настроек, указанных в файле `shop.xml`, возможность : 
   * при старте программы загружать из файла данные корзины;
   * после каждого ввода сохранять данные корзины в файл;
   * сохранять журнал действий при завершении программы.


## Пример работы

```text
Список товаров, доступных для покупки
1. Молоко 100.00 руб/шт
2. Хлеб 75.00 руб/шт
3. Яблоки 110.00 руб/шт
4. Сыр 800.50 руб/шт

   Введите через пробел номер товара и количество или введите 'end'
   1 10 <enter>
   товар номер 1 - 10 шт.
   Введите через пробел номер товара и количество или введите 'end'
   3 1 <enter>
   товар номер 3 - 1 шт.
   Введите через пробел номер товара и количество или введите 'end'
   end <enter>
   Ваша корзина:
   Молоко 10 шт 100.00 руб/шт 1000.00 руб в сумме
   Яблоки 1 шт 110.00 руб/шт 110.00 руб в сумме
   Итого: 1110.00 руб
```

### Класс `Basket`
 объект этого класса представляет собой пользовательскую корзину. В нём есть методы:

 * конструктор, принимающий массивы цен и названий продуктов;
 * `addToCart(int productNum, int amount)` - метод добавления `amount` штук продукта номер `productNum` в корзину;
 * `printCart()` - метод вывода на экран покупательской корзины;
 * `printProducts()` - метод вывода на экран списка доступных товаров с ценами;
 * `saveTxt(File file)` - метод сохранения корзины в текстовый файл;
 * `saveBin(File file)` - метод сохранения в файл в бинарном формате;
 * `saveJson(File file)` - метод сериализации корзины в json-формате;
 * `static Basket loadFromTxtFile(File textFile)` - метод восстановления объекта корзины из текстового файла;
 * `static Basket loadFromBinFile(File file)` - метод загрузки корзины из бинарного файла;
 * `static Basket loadFromJsonFile(File file)` - метод загрузки корзины десериализацией из json-файла.

### Класс `ClientLog`
создан для сохранения всех операций, которые ввёл пользователь.

Методы:
* `firstLog (String fileSaveLog)` добавляет первую запись в csv-файл;
* `log(int productNum, int amount)` сохраняет запись (объект класса `Note`) о добавленной покупке в журнал действий пользователя;
* `exportAsCSV(File txtFile)` сохраняет весь журнал действий в файл в формате csv.


Пример csv-файла:
```text
productNum,amount
3,4
1,1
3,2
5,12
```
### Класс `Config`
В корне проекта размещён `shop.xml` с содержимым:
```text
<config>
  <load>
    <enabled>false</enabled>
    <fileName>basket.json</fileName>
    <format>json</format>
  </load>
  
  <save>
    <enabled>true</enabled>
    <fileName>basket.json</fileName>
    <format>json</format>
  </save>
  
  <log>
    <enabled>true</enabled>
    <fileName>client.csv</fileName>
  </log>
</config>
```
При старте программа считывает этот файл и загружает из него настройки:

* блок `load` говорит нужно ли загружать данные корзины при старте программы из файла (`enabled`), указывает имя этого файла (`fileName`) и формат (`json` или `text`).
* блок `save` говорит нужно ли сохранять данные корзины после каждого ввода, куда и в каком формате (`text` или `json`).
* блок `log` говорит нужно ли сохранять лог при завершении программы и в какой файл; формат лога всегда `csv`.

Методы:
* `loadSettings(String xmlFile)` - чтение XML - файла с помощью библиотеки XPath, загрузка настроек;
* `Basket loadBasket()` - загружает корзину из json- или txt-файла;
* `saveBasket(Basket basket)` - сохраняет корзину в json- или txt-файл;
* `saveLog(ClientLog clientLog)` - сохраняет журнал действий в csv-файл.

